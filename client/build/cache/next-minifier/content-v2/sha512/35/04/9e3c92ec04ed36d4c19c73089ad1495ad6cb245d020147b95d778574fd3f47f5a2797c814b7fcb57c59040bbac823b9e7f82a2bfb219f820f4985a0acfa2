{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[3],{\"1OyB\":function(t,e,n){\"use strict\";function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}n.d(e,\"a\",(function(){return r}))},BsWD:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o}));var r=n(\"a3WO\");function o(t,e){if(t){if(\"string\"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},DSFK:function(t,e,n){\"use strict\";function r(t){if(Array.isArray(t))return t}n.d(e,\"a\",(function(){return r}))},\"HaE+\":function(t,e,n){\"use strict\";function r(t,e,n,r,o,u,c){try{var a=t[u](c),i=a.value}catch(f){return void n(f)}a.done?e(i):Promise.resolve(i).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,u){var c=t.apply(e,n);function a(t){r(c,o,u,a,i,\"next\",t)}function i(t){r(c,o,u,a,i,\"throw\",t)}a(void 0)}))}}n.d(e,\"a\",(function(){return o}))},JX7q:function(t,e,n){\"use strict\";function r(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}n.d(e,\"a\",(function(){return r}))},Ji7U:function(t,e,n){\"use strict\";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,\"a\",(function(){return o}))},ODXe:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return c}));var r=n(\"DSFK\");var o=n(\"BsWD\"),u=n(\"PYwp\");function c(t,e){return Object(r.a)(t)||function(t,e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,u=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(i){o=!0,u=i}finally{try{r||null==a.return||a.return()}finally{if(o)throw u}}return n}}(t,e)||Object(o.a)(t,e)||Object(u.a)()}},PYwp:function(t,e,n){\"use strict\";function r(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}n.d(e,\"a\",(function(){return r}))},TSYQ:function(t,e,n){var r;!function(){\"use strict\";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var u=typeof r;if(\"string\"===u||\"number\"===u)t.push(r);else if(Array.isArray(r)&&r.length){var c=o.apply(null,r);c&&t.push(c)}else if(\"object\"===u)for(var a in r)n.call(r,a)&&r[a]&&t.push(a)}}return t.join(\" \")}t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()},U8pU:function(t,e,n){\"use strict\";function r(t){return(r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}n.d(e,\"a\",(function(){return r}))},YFqc:function(t,e,n){t.exports=n(\"cTJO\")},a3WO:function(t,e,n){\"use strict\";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,\"a\",(function(){return r}))},cTJO:function(t,e,n){\"use strict\";var r=n(\"J4zp\"),o=n(\"284h\");e.__esModule=!0,e.default=void 0;var u,c=o(n(\"q1tI\")),a=n(\"elyg\"),i=n(\"nOHt\"),f=new Map,s=window.IntersectionObserver,l={};var p=function(t,e){var n=u||(s?u=new s((function(t){t.forEach((function(t){if(f.has(t.target)){var e=f.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&(u.unobserve(t.target),f.delete(t.target),e())}}))}),{rootMargin:\"200px\"}):void 0);return n?(n.observe(t),f.set(t,e),function(){try{n.unobserve(t)}catch(e){console.error(e)}f.delete(t)}):function(){}};function d(t,e,n,r){(0,a.isLocalURL)(e)&&(t.prefetch(e,n,r).catch((function(t){0})),l[e+\"%\"+n]=!0)}var v=function(t){var e=!1!==t.prefetch,n=c.default.useState(),o=r(n,2),u=o[0],f=o[1],v=(0,i.useRouter)(),y=v&&v.pathname||\"/\",b=c.default.useMemo((function(){var e=(0,a.resolveHref)(y,t.href,!0),n=r(e,2),o=n[0],u=n[1];return{href:o,as:t.as?(0,a.resolveHref)(y,t.as):u||o}}),[y,t.href,t.as]),h=b.href,m=b.as;c.default.useEffect((function(){if(e&&s&&u&&u.tagName&&(0,a.isLocalURL)(h)&&!l[h+\"%\"+m])return p(u,(function(){d(v,h,m)}))}),[e,u,h,m,v]);var O=t.children,g=t.replace,w=t.shallow,j=t.scroll;\"string\"===typeof O&&(O=c.default.createElement(\"a\",null,O));var x=c.Children.only(O),S={ref:function(t){t&&f(t),x&&\"object\"===typeof x&&x.ref&&(\"function\"===typeof x.ref?x.ref(t):\"object\"===typeof x.ref&&(x.ref.current=t))},onClick:function(t){x.props&&\"function\"===typeof x.props.onClick&&x.props.onClick(t),t.defaultPrevented||function(t,e,n,r,o,u,c){(\"A\"!==t.currentTarget.nodeName||!function(t){var e=t.currentTarget.target;return e&&\"_self\"!==e||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)&&(0,a.isLocalURL)(n))&&(t.preventDefault(),null==c&&(c=r.indexOf(\"#\")<0),e[o?\"replace\":\"push\"](n,r,{shallow:u}).then((function(t){t&&c&&(window.scrollTo(0,0),document.body.focus())})))}(t,v,h,m,g,w,j)}};return e&&(S.onMouseEnter=function(t){(0,a.isLocalURL)(h)&&(x.props&&\"function\"===typeof x.props.onMouseEnter&&x.props.onMouseEnter(t),d(v,h,m,{priority:!0}))}),(t.passHref||\"a\"===x.type&&!(\"href\"in x.props))&&(S.href=(0,a.addBasePath)((0,a.addLocale)(m,v&&v.locale,v&&v.defaultLocale))),c.default.cloneElement(x,S)};e.default=v},foSv:function(t,e,n){\"use strict\";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,\"a\",(function(){return r}))},keR6:function(t,e,n){\"use strict\";var r=n(\"1OyB\"),o=n(\"vuIU\"),u=n(\"Ji7U\"),c=n(\"md7G\"),a=n(\"foSv\"),i=n(\"q1tI\"),f=n.n(i),s=f.a.createElement;function l(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(a.a)(t);if(e){var o=Object(a.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var p=function(t){Object(u.a)(n,t);var e=l(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:\"render\",value:function(){return s(\"div\",{className:\"flex justify-center border-t-2 z-100 bottom-0 inset-x-0\"},s(\"p\",{className:\"text-center text-gray-500 text-xs mt-2 h-10\"},\"2020 SMU EBS G1T3.\"))}}]),n}(f.a.Component);e.a=p},md7G:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return u}));var r=n(\"U8pU\"),o=n(\"JX7q\");function u(t,e){return!e||\"object\"!==Object(r.a)(e)&&\"function\"!==typeof e?Object(o.a)(t):e}},rePB:function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,\"a\",(function(){return r}))},tXIn:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return l})),n.d(e,\"d\",(function(){return p})),n.d(e,\"e\",(function(){return d})),n.d(e,\"b\",(function(){return v})),n.d(e,\"c\",(function(){return y}));var r=n(\"o0o1\"),o=n.n(r),u=n(\"HaE+\"),c=n(\"ODXe\"),a=n(\"q1tI\"),i=n.n(a),f=i.a.createElement,s=i.a.createContext({name:null,role:null,isAuthenticated:!1,isLoading:!0}),l=function(t){var e=t.children,n=i.a.useState(null),r=Object(c.a)(n,2),l=r[0],p=r[1],d=i.a.useState(null),v=Object(c.a)(d,2),y=v[0],b=v[1],h=i.a.useState(!1),m=Object(c.a)(h,2),O=m[0],g=m[1],w=i.a.useState(!0),j=Object(c.a)(w,2),x=j[0],S=j[1];return Object(a.useEffect)((function(){(function(){var t=Object(u.a)(o.a.mark((function t(){var e,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!O){t.next=3;break}return console.log(\"already authenticated\"),t.abrupt(\"return\");case 3:return t.prev=3,t.next=6,fetch(\"/api/auth/verify\",{credentials:\"include\"});case 6:if(200!==(e=t.sent).status){t.next=19;break}return console.log(\"server okay\"),t.next=11,e.json();case 11:n=t.sent,g(!0),S(!1),p(n.name),r=n.role,b(r),t.next=21;break;case 19:console.log(\"not authenticated\"),S(!1);case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(3),console.log(\"server might be down\"),S(!1);case 27:case\"end\":return t.stop()}}),t,null,[[3,23]])})));return function(){return t.apply(this,arguments)}})()()}),[]),f(s.Provider,{value:{isAuthenticated:O,isLoading:x,name:l,role:y,setAuth:function(t){return g(t)},setName:p,setRole:b}},e)};function p(){var t=i.a.useContext(s);if(void 0===t)throw new Error(\"missing AuthProvider\");return t}function d(){return p().isAuthenticated}function v(){return p().name}function y(){return p().role}},vuIU:function(t,e,n){\"use strict\";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,\"a\",(function(){return o}))}}]);","extractedComments":[]}