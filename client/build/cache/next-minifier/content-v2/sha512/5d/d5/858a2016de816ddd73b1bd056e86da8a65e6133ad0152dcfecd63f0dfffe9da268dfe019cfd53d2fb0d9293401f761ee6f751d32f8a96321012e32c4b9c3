{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{Ho3L:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin\",function(){return a(\"IT5z\")}])},IT5z:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSG\",(function(){return N})),a.d(t,\"fetchUserData\",(function(){return k})),a.d(t,\"fetchRestockData\",(function(){return D})),a.d(t,\"fetchRequestData\",(function(){return I}));var n=a(\"o0o1\"),s=a.n(n),r=a(\"HaE+\"),l=a(\"q1tI\"),i=a.n(l),o=i.a.createElement;function c(e){var t=e.data,a=Object(l.useState)({}),n=a[0],i=a[1],c=Object(l.useState)(!1),u=c[0],p=c[1],d=Object(l.useState)(null),m=d[0],x=d[1],g=Object(l.useState)(!1),f=g[0],h=g[1],y=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,r,l,o,c,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"Sending\"),a=\"https://cors-anywhere.herokuapp.com/https://smucf-dev-ebs-g1t3-srv.cfapps.us10.hana.ondemand.com/api/User('\"+t.target.id+\"')\",r={},l=t.target.id,o=n[t.target.id],(c=n)[l]=o,r.userType=o,u={method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(r)},e.prev=9,e.next=12,fetch(a,u);case 12:return d=e.sent,e.next=15,d.json();case 15:e.sent,d.ok?(i(c),p(!0),h(!1),x(\"Edit complete\"),console.log(\"success\")):(console.log(\"some problem\"),p(!1),h(!0),x(\"Problem editing user!\")),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(9),console.log(\"error\"),p(!1),h(!0),x(\"Problem reaching server!\");case 25:console.log(\"Out\");case 26:case\"end\":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target.id,a=e.target.value;n[t]=a,console.log(n)},v=function(){h(!1),p(!1)};return o(\"div\",null,u?o((function(){return o(\"div\",{className:\"w-2/4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4  mx-auto\",role:\"alert\"},o(\"span\",{className:\"block sm:inline\"},\" \",m,\"  \"),o(\"span\",{className:\"absolute top-0 bottom-0 right-0 px-4 py-3\",onClick:v},o(\"svg\",{className:\"fill-current h-6 w-6 text-green-500\",role:\"button\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},o(\"title\",null,\"Close\"),o(\"path\",{d:\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\"}))))}),null):null,f?o((function(){return o(\"div\",{className:\"w-2/4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 mx-auto\",role:\"alert\"},o(\"span\",{className:\"block sm:inline\"},m),o(\"span\",{className:\"absolute top-0 bottom-0 right-0 px-4 py-3\",onClick:v},o(\"svg\",{className:\"fill-current h-6 w-6 text-red-500\",role:\"button\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},o(\"title\",null,\"Close\"),o(\"path\",{d:\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\"}))))}),null):null,o(\"table\",{className:\"min-w-full divide-y divide-gray-200\"},o(\"thead\",null,o(\"tr\",null,o(\"th\",{className:\"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\"},\"Name\"),o(\"th\",{className:\"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\"},\"Email\"),o(\"th\",{className:\"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\"},\"UserType\"),o(\"th\",{className:\"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\"},\"Edit Type\"),o(\"th\",{className:\"px-6 py-3 bg-gray-50\"}))),o(\"tbody\",{className:\"bg-white divide-y divide-gray-200\"},t.map((function(e,t){return n[e.userID]=e.userType,o(\"tr\",{key:t,className:\"flex lg:table-row flex-wrap\"},o(\"td\",{className:\"px-6 py-4 whitespace-no-wrap\"},o(\"div\",{className:\"text-sm leading-5 text-gray-900\"},e.name)),o(\"td\",{className:\"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-500\"},o(\"p\",null,e.email?e.email:\"None\")),o(\"td\",{className:\"px-6 py-4 whitespace-no-wrap\"},null==n[e.userID]?o(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-200 text-gray-800\"},\"None\"):\"volunteer\"==n[e.userID]?o(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-200 text-green-800\"},n[e.userID]):\"Admin\"==n[e.userID]?o(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-200 text-blue-800\"},n[e.userID]):o(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-200 text-red-800\"},n[e.userID])),o(\"td\",{className:\"px-6 py-4 whitespace-no-wrap text-right text-sm leading-5 font-medium\"},o(\"select\",{name:\"types\",id:e.userID,className:\"float-left\",onChange:b},o(\"option\",{value:!0,\"data-isdefault\":\"true\"},\"--Edit--\"),o(\"option\",{value:\"volunteer\"},\"Volunteer\"),o(\"option\",{value:\"admin\"},\"Admin\"),o(\"option\",{value:\"msf\"},\"MSF\"),o(\"option\",{value:\"none\"},\"None\"))),o(\"td\",{className:\"px-6 py-4 whitespace-no-wrap text-right text-sm leading-5 font-medium\"},o(\"button\",{className:\"text-indigo-600 hover:text-indigo-900\",id:e.userID,onClick:y},\"Save\")))})))))}var u=i.a.createElement;function p(e){var t=e.data;return u(\"table\",{className:\"min-w-full divide-y divide-gray-200\"},u(\"thead\",null,u(\"tr\",null,u(\"th\",{className:\"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\"},\"Beneficiary ID\"),u(\"th\",{className:\"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\"},\"Status\"),u(\"th\",{className:\"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\"},\"Others\"),u(\"th\",{className:\"px-6 py-3 bg-gray-50\"}))),u(\"tbody\",{className:\"bg-white divide-y divide-gray-200\"},t.map((function(e,t){return u(\"tr\",{key:t},u(\"td\",{className:\"px-6 py-4 whitespace-no-wrap\"},u(\"div\",{className:\"text-sm leading-5 text-gray-900\"},e.beneficiaryID_beneficiaryID)),u(\"td\",{className:\"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-500\"},u(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-200 text-red-800\"},\"To \"+e.status),u(\"div\",{className:\"text-sm leading-5 text-gray-500 pt-1\"},\"Not started\")),u(\"td\",{className:\"px-6 py-4 whitespace-no-wrap\"},u(\"p\",null,\"null\"!=e.other?e.other:\"None\")),u(\"td\",{className:\"px-6 py-4 whitespace-no-wrap text-right text-sm leading-5 font-medium\"},u(\"button\",{className:\"text-indigo-600 hover:text-indigo-900\"},\"Edit\")))}))))}var d=i.a.createElement;function m(e){var t=e.data;return d(\"table\",{className:\"min-w-full divide-y divide-gray-200\"},d(\"thead\",null,d(\"tr\",null,d(\"th\",{className:\"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\"},\"Beneficiary ID\"),d(\"th\",{className:\"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\"},\"Status\"),d(\"th\",{className:\"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\"},\"Others\"),d(\"th\",{className:\"px-6 py-3 bg-gray-50\"}))),d(\"tbody\",{className:\"bg-white divide-y divide-gray-200\"},t.map((function(e,t){return d(\"tr\",{key:t},d(\"td\",{className:\"px-6 py-4 whitespace-no-wrap\"},d(\"div\",{className:\"text-sm leading-5 text-gray-900\"},e.beneficiaryID_beneficiaryID)),d(\"td\",{className:\"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-500\"},d(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-200 text-blue-800\"},\"To \"+e.status)),d(\"td\",{className:\"px-6 py-4 whitespace-no-wrap\"},d(\"p\",null,\"null\"!=e.other?e.other:\"None\")),d(\"td\",{className:\"px-6 py-4 whitespace-no-wrap text-right text-sm leading-5 font-medium\"},d(\"button\",{className:\"text-indigo-600 hover:text-indigo-900\"},\"Edit\")))}))))}var x=i.a.createElement;function g(e){var t=e.userData,a=e.restockData,n=e.requestData,s=Object(l.useState)(null),r=s[0],o=s[1],u=Object(l.useState)(null);u[0],u[1];return x(\"div\",{className:\"flex flex-wrap\"},x(\"ul\",{className:\"border-1 rounded-lg w-auto\"},x(\"li\",{className:\"my-px\"},x(\"span\",{className:\"flex font-medium text-sm text-gray-800 px-4 my-4 uppercase justify-center\"},\"Selection\")),x(\"li\",{className:\"my-px\"},x(\"a\",{href:\"#\",className:\"flex flex-row items-center h-12 px-4 rounded-lg text-black hover:bg-gray-400 \",onClick:function(){o(\"data\")}},x(\"span\",{className:\"flex items-center justify-center text-lg text-gray-400\"},x(\"svg\",{fill:\"none\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",className:\"h-6 w-6\"},x(\"path\",{d:\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\"}))),x(\"span\",{className:\"ml-3 mr-2\"},\"Data Requests\"),x(\"span\",{className:\"flex items-center justify-center text-sm text-gray-500 font-semibold bg-gray-200 h-6 px-2 rounded-full ml-auto\"},n.length>0?n.length:0))),x(\"li\",{className:\"my-px\"},x(\"a\",{href:\"#\",className:\"flex flex-row items-center h-12 px-4 rounded-lg text-black hover:bg-gray-400\",onClick:function(){o(\"restock\")}},x(\"span\",{className:\"flex items-center justify-center text-lg text-gray-400\"},x(\"svg\",{fill:\"none\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",className:\"h-6 w-6\"},x(\"path\",{d:\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"}))),x(\"span\",{className:\"ml-3 mr-2\"},\"Restock Requests\"),x(\"span\",{className:\"flex items-center justify-center text-sm text-gray-500 font-semibold bg-gray-200 h-6 px-2 rounded-full ml-auto\"},a.length>0?a.length:0))),x(\"li\",{className:\"my-px\"},x(\"a\",{href:\"#\",className:\"flex flex-row items-center h-12 px-4 rounded-lg text-black hover:bg-gray-400\",onClick:function(){o(\"user\")}},x(\"span\",{className:\"flex items-center justify-center text-lg text-gray-400\"},x(\"svg\",{fill:\"none\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",className:\"h-6 w-6\"},x(\"path\",{d:\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"}))),x(\"span\",{className:\"ml-3 mr-2\"},\"User Accounts\"),x(\"span\",{className:\"flex items-center justify-center text-sm text-gray-500 font-semibold bg-gray-200 h-6 px-2 rounded-full ml-auto\"},t.length>0?t.length:0)))),x(\"div\",{className:\"ml-2 flex-grow border-1 rounded-lg w-3/4\"},x(\"p\",{className:\"w-full text-center py-6 text-black font-bold text-lg\"},null==r?\"Select an option to display\":x(i.a.Fragment,null),\"user\"==r?\"User Details\":x(i.a.Fragment,null),\"restock\"==r?\"Restock Requests\":x(i.a.Fragment,null),\"data\"==r?\"Data Requests\":x(i.a.Fragment,null)),\"user\"==r?x(c,{data:t}):x(i.a.Fragment,null),\"restock\"==r?x(p,{data:a}):x(i.a.Fragment,null),\"data\"==r?x(m,{data:n}):x(i.a.Fragment,null)))}var f=a(\"keR6\"),h=a(\"YSbm\"),y=a(\"5bMt\"),b=a(\"krZT\"),v=a(\"tXIn\"),w=i.a.createElement,N=!0;t.default=Object(b.a)((function(e){var t=e.userData,a=e.restockData,n=e.requestData,s=(Object(v.e)(),Object(v.b)()),r=Object(v.c)();return w(\"div\",{className:\"flex flex-col h-screen\"},w(h.a,{name:s,role:r}),w(y.a,{name:s,role:r}),w(\"div\",{className:\"antialiased bg-gray-200 flex-grow\"},w(\"div\",{className:\"container mx-auto px-4 sm:px-8 mt-18\"},w(\"div\",{className:\"py-8 flex-grow flex-col flex justify-center bg-white shadow-lg rounded px-8 pt-6 pb-8 mb-4 mt-4\"},w(g,{userData:t,restockData:a,requestData:n})))),w(f.a,null))}));function k(){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(\"https://smucf-dev-ebs-g1t3-srv.cfapps.us10.hana.ondemand.com/api/User\");case 3:return t=e.sent,e.next=6,t.json();case 6:a=(a=e.sent).value,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),{},console.log(\"Error fetching odata\");case 14:return e.abrupt(\"return\",a);case 15:case\"end\":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function D(){return E.apply(this,arguments)}function E(){return(E=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(\"https://smucf-dev-ebs-g1t3-srv.cfapps.us10.hana.ondemand.com/api/ToReview?$filter=contains(status,%27restock%27)\");case 3:return t=e.sent,e.next=6,t.json();case 6:a=(a=e.sent).value,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),{},console.log(\"Error fetching odata\");case 14:return e.abrupt(\"return\",a);case 15:case\"end\":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function I(){return O.apply(this,arguments)}function O(){return(O=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(\"https://smucf-dev-ebs-g1t3-srv.cfapps.us10.hana.ondemand.com/api/ToReview?$filter=contains(status,%27request%27)\");case 3:return t=e.sent,e.next=6,t.json();case 6:a=(a=e.sent).value,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),{},console.log(\"Error fetching odata\");case 14:return e.abrupt(\"return\",a);case 15:case\"end\":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}}},[[\"Ho3L\",0,1,2,3,4]]]);","extractedComments":[]}