{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { Home, BarChart, ListAlt, Fastfood, ImportExport, List, ArrowForward, SupervisorAccount } from '@material-ui/icons';\nimport DropDownMenu from './DropDownMenu';\nimport Router from 'next/router';\nimport { useState } from 'react';\nexport default function Header(_ref) {\n  var name = _ref.name,\n      role = _ref.role;\n\n  var _useState = useState(false),\n      openMenu = _useState[0],\n      setopenMenu = _useState[1];\n\n  var setOpen = function setOpen() {\n    setopenMenu(!openMenu);\n  };\n\n  var onLogout = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var url, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // let url = 'https://g1t3-node-auth-srv.cfapps.us10.hana.ondemand.com/api/auth/clear';\n              // let url = 'http://localhost:5000/api/auth/clear';\n              url = '/api/auth/clear';\n              console.log(\"attempting to logout\");\n              _context.next = 4;\n              return fetch(url, {\n                credentials: 'include'\n              });\n\n            case 4:\n              response = _context.sent;\n              Router.push('/front');\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLogout() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: \"bg-white\"\n  }, __jsx(\"div\", {\n    className: \"container mx-auto\"\n  }, __jsx(\"nav\", {\n    className: \"flex items-center p-3 flex-wrap\"\n  }, __jsx(\"span\", {\n    className: \"flex flex-row content-center border-r-1 border-gray-400\"\n  }, __jsx(\"img\", {\n    src: \"images/logo2.png\",\n    className: \"h-6 block mx-2\",\n    alt: \"logo\"\n  })), __jsx(\"span\", {\n    className: \"mt-1 mx-2 flex flex-row text-l text-black font-bold tracking-wide\"\n  }, \" EBS G1T3 \"), __jsx(\"div\", {\n    className: \"ml-auto\"\n  }, __jsx(\"button\", {\n    type: \"button\",\n    onClick: function onClick() {\n      return setOpen;\n    },\n    className: \"text-black font-bold font-size text-l items-center justify-center inline-flex px-3 py-2 rounded lg:hidden ml-auto outline-none nav-toggler mr-2 hover:bg-gray-900 hover:text-white focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition ease-in-out duration-150\",\n    id: \"options-menu\",\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": \"true\"\n  }, __jsx(\"i\", {\n    className: \"\"\n  }, \"Menu\")), openMenu && __jsx(DropDownMenu, {\n    tabIndex: \"0\",\n    data: ['Home', 'Analytics', 'Plan Schedule', 'Diet', 'Import Data', 'List']\n  })), __jsx(\"div\", {\n    className: \"hidden top-navbar w-full lg:inline-flex lg:flex-grow lg:w-auto\",\n    id: \"navigation\"\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex lg:flex-row lg:ml-auto lg:w-auto w-full lg:items-center items-start  flex flex-col lg:h-auto mx-auto\"\n  }, __jsx(Link, {\n    href: \"/home\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\"\n  }, __jsx(Home, {\n    className: \"py-1\"\n  }), __jsx(\"span\", null, \"Home\"))), __jsx(Link, {\n    href: \"/analytic\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\"\n  }, __jsx(BarChart, {\n    className: \"py-1\"\n  }), __jsx(\"span\", null, \"Analytics\"))), __jsx(Link, {\n    href: \"/schedule\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\"\n  }, __jsx(ListAlt, {\n    className: \"py-1\"\n  }), __jsx(\"span\", null, \"Plan Schedule\"))), __jsx(Link, {\n    href: \"/diet\"\n  }, __jsx(\"a\", {\n    href: \"/diet\",\n    className: \"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\"\n  }, __jsx(Fastfood, {\n    className: \"py-1\"\n  }), __jsx(\"span\", null, \"Diet\"))), __jsx(Link, {\n    href: \"/import\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\"\n  }, __jsx(ImportExport, {\n    className: \"py-1\"\n  }), __jsx(\"span\", null, \"Import Data\"))), __jsx(\"a\", {\n    href: \"#\",\n    className: \"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\"\n  }, __jsx(List, {\n    className: \"py-1\"\n  }), __jsx(\"span\", null, \"List\")), role == \"admin\" && __jsx(Link, {\n    href: \"/admin\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\"\n  }, __jsx(SupervisorAccount, {\n    className: \"py-1\"\n  }), __jsx(\"span\", null, \"Admin\"))))), __jsx(\"div\", null, __jsx(\"a\", {\n    href: \"#\",\n    className: \"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\",\n    onClick: onLogout\n  }, __jsx(ArrowForward, {\n    className: \"py-1\"\n  }), __jsx(\"span\", {\n    className: \"\"\n  }, \" Logout \"))))));\n} // class Header extends React.Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             openMenu: false,\n//             role: this.props['role']\n//         }\n//         this.onBlur = this.onBlur.bind(this);\n//         this.onLogout = this.onLogout.bind(this);\n//         console.log(this.props);\n//         console.log(this);\n//     }\n//     onBlur = () => {\n//         this.setState({\n//             openMenu: false\n//         });\n//         console.log(this.state.openMenu);\n//     }\n//     onLogout = async () => {\n//         // let url = 'https://g1t3-node-auth-srv.cfapps.us10.hana.ondemand.com/api/auth/clear';\n//         let url = 'http://localhost:5000/api/auth/clear';\n//         console.log(\"attempting to logout\");\n//         const response = await fetch(url, {credentials: 'include'});\n//         Router.push('/front');\n//     }\n//     render () {\n//         return (    \n//             <div className=\"bg-white\">\n//             <div className=\"container mx-auto\">\n//             <nav className=\"flex items-center p-3 flex-wrap\">\n//                 <span className=\"flex flex-row content-center border-r-1 border-gray-400\">\n//                 <img\n//                     src=\"images/logo2.png\"\n//                     className=\"h-6 block mx-2\"\n//                     alt=\"logo\"\n//                 />\n//                 </span>\n//                 <span className=\"mt-1 mx-2 flex flex-row text-l text-black font-bold tracking-wide\"> EBS G1T3 </span>\n//                 <div className=\"ml-auto\">\n//                 <button type=\"button\"  onClick={() => this.setState({openMenu: !this.state.openMenu})}\n//                 className=\"text-black font-bold font-size text-l items-center justify-center inline-flex px-3 py-2 rounded lg:hidden ml-auto outline-none nav-toggler mr-2 hover:bg-gray-900 hover:text-white focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition ease-in-out duration-150\" id=\"options-menu\" aria-haspopup=\"true\" aria-expanded=\"true\">\n//                     <i className=\"\">Menu</i>\n//                 </button>\n//                 {this.state.openMenu && <DropDownMenu tabIndex=\"0\" onBlur={ this.onBlur } data={['Home', 'Analytics', 'Plan Schedule', 'Diet', 'Import Data', 'List']}/>}\n//                 </div>\n//                 <div className=\"hidden top-navbar w-full lg:inline-flex lg:flex-grow lg:w-auto\" id=\"navigation\">    \n//                     <div className=\"lg:inline-flex lg:flex-row lg:ml-auto lg:w-auto w-full lg:items-center items-start  flex flex-col lg:h-auto mx-auto\" >\n//                         <Link href=\"/home\">\n//                         <a href=\"#\" className=\"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\">\n//                             <Home className=\"py-1\" /><span>Home</span>\n//                         </a>\n//                         </Link>\n//                         <Link href=\"/analytic\">\n//                         <a href=\"#\" className=\"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\" >\n//                             <BarChart className=\"py-1\" /><span>Analytics</span>\n//                         </a>\n//                         </Link>\n//                         <Link href=\"/schedule\">\n//                         <a href=\"#\" className=\"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\" >\n//                             <ListAlt className=\"py-1\" /><span>Plan Schedule</span>\n//                         </a>\n//                         </Link>\n//                         <Link href=\"/diet\">\n//                         <a href=\"/diet\" className=\"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\" >\n//                             <Fastfood className=\"py-1\" /><span>Diet</span>\n//                         </a>\n//                         </Link>\n//                         <Link href=\"/import\">\n//                         <a href=\"#\" className=\"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\" >\n//                             <ImportExport className=\"py-1\" /><span>Import Data</span>\n//                         </a>\n//                         </Link>\n//                         <a href=\"#\" className=\"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\" >\n//                             <List className=\"py-1\"/><span>List</span>\n//                         </a>\n//                         { this.role == \"admin\" &&\n//                             <Link href=\"/admin\">\n//                             <a href=\"#\" className=\"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\" >\n//                                 <SupervisorAccount className=\"py-1\"/><span>Admin</span>\n//                             </a>\n//                             </Link>\n//                         }\n//                     </div>\n//                 </div>\n//                 <div>\n//                     <a href=\"#\" className=\"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-black font-bold font-size text-l items-center justify-center hover:bg-gray-900 hover:text-white\" \n//                     onClick={this.onLogout}\n//                     >\n//                         <ArrowForward className=\"py-1\"/><span className=\"\"> Logout </span>\n//                     </a>\n//                 </div>\n//             </nav>\n//             </div>\n//             </div>\n//             // {/* <div classNameName=\"logo\" ><a href=\"#\" classNameName=\"logo-text\"> TESTVV </a></div> */}\n//             // {/* <NavContainer /> */}\n//         );\n//     }\n// }\n// export default Header;","map":null,"metadata":{},"sourceType":"module"}